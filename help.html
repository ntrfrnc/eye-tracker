<table><tbody><tr>
<td style="vertical-align:middle;"><img src=":/app_icon.svg" /></td>
<td style="vertical-align:middle;padding-left:6px;"><h1>Eye Tracker</h1></td>
<tr></tbody></table>
C++ Qt app for tracking eyes focus on screen by JAZZ-novo eye tracker device.
<br>
<b>Version</b> 0.2-alpha

<h2>Prerequisites</h2>

<h3>Install FTDI device virtual COM port drivers</h3>

<h4>Windows</h4>
Download it from <a href="http://www.ftdichip.com/Drivers/VCP.htm">http://www.ftdichip.com/Drivers/VCP.htm</a> and install.

<h4>Linux</h4>
If you use Ubuntu (at least version 11.10 ) drivers are already in kernel. To automatically load appropriate driver when device is plugged in you have to:

<ol>
  <li>Create file /etc/udev/rules.d/99-ftdi.rules if it doesn't exist already.</li>
  <li>Add the following line to the file: <code style="background:#eee">ACTION=="add", ATTRS{idVendor}=="0403", ATTRS{idProduct}=="e859", RUN+="/sbin/modprobe ftdi_sio" RUN+="/bin/sh -c 'echo 0403 e859 > /sys/bus/usb-serial/drivers/ftdi_sio/new_id'"</code></li>
  <li>Run <code style="background:#eee">sudo udevadm control --reload</code> in the console.</li>
</ol>

If you don't have permission to use ttyUSB0 serial port you have to add your user to dialout group:
<br>
<code style="background:#eee">sudo usermod -aG dialout $USER</code>
<br>
And reboot the system.


<h2>How to use</h2>
Firstly calibrate device input by clicking 'Start calibration' button and follow calibration procedure described below. If you go through calibration with success you can start new tracking session by clicking the 'New session' button, but before you must enter needed information in configuration form. 

<h2>Calibration</h2>
'Start calibration' button allows you to enter calibration mode. In this mode application shows calibration board stretched to screen resolution. Calibration procedure is to follow your eyes markers starting from top left, then stop on each one and hit space key on your keyboard. Correct order of markers to focus your eyes on is as follows:

<ol>
  <li>Top left</li>
  <li>Center</li>
  <li>Bottom right</li>
  <li>Bottom left<li>
  <li>Center again</li>
  <li>Top right</li>
</ol>

You can exit this mode by hitting ESC key on keyboard.

<h2>Session</h2>
'Start new session' button allows entering session mode where you can see red dot on screen in the position of your eyes focus if the calibration is successful. On screen there is also displayed your test board chosen in the configuration as background.
<br>
You can exit this mode by hitting ESC key on keyboard.

<h2>Session configuration</h2>

<table style="margin-top:10px;">
    <tbody>
        <tr>
            <td style="padding-right:10px;padding-bottom:10px;"><b>Serial port name</b></td>
            <td style="padding-bottom:10px;">Name of serial port to which device is connected. Next to text field are listed detected ports and most likely ones like COM3 on Windows or ttyUSB0 on Linux.</td>
        </tr>

        <tr>
            <td style="padding-right:10px;padding-bottom:10px;"><b>Recorded data file</b></td>
            <td style="padding-bottom:10px;">Path of file where you want to log all data of eye position recorded during session.</td>
        </tr>

        <tr>
            <td style="padding-right:10px;padding-bottom:10px;"><b>Board background</b></td>
            <td style="padding-bottom:10px;">Link to website e.g. http://google.com, or local html file. You can also use default build in test board with one column of text: qrc:///testBoard.html .</td>
        </tr>
    </tbody>
</table>

<h2>Chart plotter</h2>
By clicking Plot data button you can plot all eye trace saved in chosen file. Chart is shown with board background chosen in session configuration as background. All plotted data with background will be automatically save as PNG image chosen in plot configuration form.
<br>
You can close plot view by hitting ESC key on keyboard. 

<h3>Plotter configuration</h3>

<table style="margin-top:10px;">
    <tbody>
        <tr>
            <td style="padding-right:10px;padding-bottom:10px;"><b>Data file to plot</b></td>
            <td style="padding-bottom:10px;">Path of data file which you want to plot.</td>
        </tr>
        <tr>
            <td style="padding-right:10px;padding-bottom:10px;"><b>Output image</b></td>
            <td style="padding-bottom:10px;">Path where chart will be saved as PNG file.</td>
        </tr>                      
    </tbody>
</table>
